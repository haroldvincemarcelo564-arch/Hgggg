-- janzenmakes x Jamal x Tyrone AFSE Unli Yen Hub (Jan 2026) | Draggable GUI | AutoFarm Mobs = INF YEN
-- Features: AutoFarm Mobs/Yen, Auto Collect Drops, Kill Aura, Auto Train, Speed Hack, Anti-AFK

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local VirtualUser = game:GetService("VirtualUser")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- Config
getgenv().Config = {
    AutoFarm = false,
    CollectDrops = false,
    KillAura = false,
    AutoTrain = false,
    SpeedHack = false,
    Speed = 80,
    FarmRange = 2000
}

-- Char update
local function updateChar()
    local char = player.Character or player.CharacterAdded:Wait()
    getgenv().Root = char:WaitForChild("HumanoidRootPart")
    getgenv().Hum = char:WaitForChild("Humanoid")
end
updateChar()
player.CharacterAdded:Connect(updateChar)

-- Nearest Mob (Scans descendants for enemies/mobs)
local function getNearestMob()
    local closest = nil
    local shortest = getgenv().Config.FarmRange
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 and v:FindFirstChild("HumanoidRootPart") and v ~= player.Character then
            local dist = (getgenv().Root.Position - v.HumanoidRootPart.Position).Magnitude
            if dist < shortest then
                shortest = dist
                closest = v
            end
        end
    end
    return closest
end

-- Anti-AFK
spawn(function()
    while true do
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
        wait(60)
    end
end)

-- Speed Hack
RunService.RenderStepped:Connect(function()
    if getgenv().Config.SpeedHack then
        getgenv().Hum.WalkSpeed = getgenv().Config.Speed
    else
        getgenv().Hum.WalkSpeed = 16
    end
end)

-- AutoFarm Mobs (Main Yen Grind)
spawn(function()
    while true do
        wait(0.2)
        if getgenv().Config.AutoFarm then
            local mob = getNearestMob()
            if mob and mob:FindFirstChild("HumanoidRootPart") then
                getgenv().Root.CFrame = mob.HumanoidRootPart.CFrame * CFrame.new(0, 10, -3)
                VirtualUser:ClickButton1(Vector2.new())
                
                if getgenv().Config.KillAura then
                    for _, enemy in pairs(workspace:GetDescendants()) do
                        if enemy:IsA("Model") and enemy:FindFirstChild("HumanoidRootPart") and enemy:FindFirstChild("Humanoid") and enemy.Humanoid.Health > 0 and enemy ~= player.Character then
                            enemy.HumanoidRootPart.CFrame = getgenv().Root.CFrame * CFrame.new(0,0,-5)
                        end
                    end
                end
            end
        end
    end
end)

-- Collect Drops (Yen/Chikara Orbs)
spawn(function()
    while getgenv().Config.CollectDrops do
        for _, drop in pairs(workspace:GetDescendants()) do
            if drop:IsA("BasePart") and (drop.Name:lower():find("yen") or drop.Name:lower():find("chikara") or drop.Name:lower():find("orb") or drop.Name:lower():find("drop")) then
                getgenv().Root.CFrame = drop.CFrame
                wait(0.1)
            end
        end
        wait(0.4)
    end
end)

-- Auto Train (Zones/Pads)
spawn(function()
    while getgenv().Config.AutoTrain do
        for _, zone in pairs(workspace:GetDescendants()) do
            if zone:IsA("BasePart") and (zone.Name:lower():find("train") or zone.Name:lower():find("zone") or zone.Name:lower():find("pad")) then
                getgenv().Root.CFrame = zone.CFrame * CFrame.new(0,5,0)
                VirtualUser:ClickButton1(Vector2.new())
                wait(0.5)
            end
        end
        wait(1)
    end
end)

-- Draggable GUI Function
local function makeDraggable(frame)
    local dragging = false
    local dragInput, mousePos, framePos
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            mousePos = input.Position
            framePos = frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - mousePos
            frame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)
end

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "JamalTyroneHub"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player.PlayerGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 480, 0, 380)
MainFrame.Position = UDim2.new(0.5, -240, 0.5, -190)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- (Corners, gradients, strokes same as before ‚Äì dark sleek theme)

local TopBar = Instance.new("Frame")
-- ... (same setup)

local Title = Instance.new("TextLabel")
Title.Text = "üó°Ô∏è x Jamal x Tyrone AFSE Hub"

-- Close button same

makeDraggable(TopBar)

-- Toggles same (Auto Farm Mobs (Yen), etc.)

-- Credit at bottom
local Credit = Instance.new("TextLabel")
Credit.Text = "x Jamal x Tyrone üî•"
Credit.Parent = MainFrame

print("AFSE Hub Loaded! Toggle Auto Farm for unli yen üòà")
